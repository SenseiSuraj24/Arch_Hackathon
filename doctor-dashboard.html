<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doctor Dashboard | Vital Link</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://unpkg.com/scrollreveal"></script>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
  
  /* Body */
  /* add top padding so fixed topbar doesn't overlap content */
  body{display:flex;min-height:100vh;background:#e0f7fa;color:#007c91;overflow-x:hidden;transition:0.5s;padding-top:70px}

  /* Top fixed navigation bar */
  .topbar{position:fixed;top:0;left:0;right:0;height:70px;background:rgba(175, 235, 245, 0.95);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:space-between;padding:0 30px;z-index:1000;box-shadow:0 2px 12px rgba(0,140,180,0.18)}
  .topbar .logo{color:#fff;font-weight:800;font-size:1.4rem;letter-spacing:1px}
  /* logo image sizing (replace text with an <img> below) */
  .topbar .logo img{height:48px;display:block}
  .topbar nav{display:flex;align-items:center}
  .topbar nav a{color:#ffffff;text-decoration:none;margin-left:22px;font-weight:600;transition:0.2s}
  .topbar nav a:hover{text-decoration:underline;opacity:0.95}

  /* Sidebar */
  .sidebar{width:250px;background:rgba(0,140,180,0.85);backdrop-filter:blur(12px);padding:30px 0;display:flex;flex-direction:column;align-items:center;box-shadow:4px 0 20px rgba(0,140,180,0.25);transition:0.5s;border-radius:0 20px 20px 0;}
  .sidebar h2{font-size:2rem;color:#ffffff;margin-bottom:50px;text-shadow:0 0 10px rgba(0,255,255,0.4);letter-spacing:1px}
  .sidebar ul{list-style:none;width:100%}
  .sidebar ul li{width:100%;padding:18px 30px;display:flex;align-items:center;color:#d0f0f8;cursor:pointer;transition:0.4s;border-radius:12px;margin-bottom:8px}
  .sidebar ul li:hover, .sidebar ul li.active{background:linear-gradient(90deg,#00bcd4,#00acc1);color:#fff;transform:scale(1.05)}
  .sidebar ul li i{margin-right:15px;font-size:1.3rem;transition:0.3s}

  /* Main Content */
  .main-content{flex:1;padding:40px 60px;background:#f0faff;overflow-x:hidden;transition:0.5s;border-radius:20px 0 0 20px;box-shadow:0 0 25px rgba(0,0,0,0.05)}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;flex-wrap:wrap}
  header h1{font-size:2.2rem;font-weight:800;color:#007c91;text-shadow:0 0 8px rgba(0,140,180,0.4)}
  header p{font-size:1.1rem;color:#005662;margin-top:8px}

  /* Dashboard Cards */
  .dashboard-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px;margin-bottom:50px}
  .card{background:#ffffff;border-radius:20px;padding:25px;text-align:center;box-shadow:0 5px 25px rgba(0,140,180,0.2);transition:0.5s;position:relative;cursor:pointer}
  .card:hover{transform:translateY(-8px);box-shadow:0 10px 30px rgba(0,140,180,0.3)}
  .card h3{font-size:1.3rem;color:#007c91;margin-bottom:10px;font-weight:600}
  .card h1{font-size:2.6rem;color:#00acc1;font-weight:800;margin-bottom:5px}
  .card p{font-size:0.95rem;color:#007c91}

  /* Animated word */
  .animated-text{display:inline-block;color:#007c91;font-weight:800;font-size:1.3rem;border-right:3px solid #007c91;animation:blink 0.7s step-end infinite alternate}
  @keyframes blink{from{border-color:transparent}to{border-color:#007c91}}

  /* Tables */
  table{width:100%;border-collapse:collapse;margin-top:20px;background:#ffffff;border-radius:10px;overflow:hidden;box-shadow:0 5px 20px rgba(0,140,180,0.1)}
  table th, table td{padding:12px;text-align:left;border-bottom:1px solid #e0f7fa;color:#007c91}
  table th{color:#00acc1;font-weight:700}

  /* Footer */
  footer{text-align:center;padding:20px;color:#007c91;font-size:0.9rem;border-top:1px solid #c0e6ef}

  /* Animations */
  @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
  @keyframes fadeInLeft{from{opacity:0;transform:translateX(-40px)}to{opacity:1;transform:translateX(0)}}
  @keyframes fadeInRight{from{opacity:0;transform:translateX(40px)}to{opacity:1;transform:translateX(0)}}

  /* Responsive */
  @media(max-width:900px){body{flex-direction:column}.sidebar{width:100%;flex-direction:row;justify-content:space-around;border-radius:0}.main-content{padding:20px;border-radius:0}}

  /* Message box styles (used only on All Patients page) */
  .msg-box{display:flex;gap:8px;align-items:center}
  .msg-box .msg-ui{display:flex;gap:8px;align-items:center}
  .msg-box input.msg-input{padding:8px;border-radius:8px;border:1px solid #cfeff3;min-width:180px;background:#fff;color:#007c91}
  .msg-box button.msg-toggle{padding:8px 10px;border-radius:8px;border:none;background:#00acc1;color:#fff;cursor:pointer}
  .msg-box button.msg-send{padding:8px 10px;border-radius:8px;border:none;background:#007c91;color:#fff;cursor:pointer}
  .msg-small{font-size:0.85rem;color:#006a73;margin-left:8px}
</style>
</head>
<body>

<!-- Top navigation bar added; links point to example pages (create these files or update hrefs) -->
<div class="topbar">
  <div class="logo">
    <!-- save the provided PNG next to this HTML file as "vital-link.png" or update the src path -->
    <img src="vital-link-logo.png" alt="Vital Link logo">
  </div>
  <nav>
    <a href="index.html">LOGOUT</a>
  </nav>
</div>

<aside class="sidebar">
  <ul>
    <li data-page="dashboard" class="active"><i class="fas fa-user-md"></i> Dashboard</li>
    <li data-page="appointments"><i class="fas fa-calendar-check"></i> Appointments</li>
    <li data-page="icu"><i class="fas fa-procedures"></i> ICU Patients</li>
    <li data-page="patients"><i class="fas fa-users"></i> All Patients</li>
    
    
  </ul>
</aside>

<section class="main-content">
  <header>
    <div>
      <h1>Welcome, <span id="doctor-name">Dr. Aisha Kapoor</span></h1>
      <p>Providing care with <span class="animated-text"></span></p>
    </div>
    <div>
      <p><i class="fas fa-clock"></i> Today: 20 Oct 2025</p>
    </div>
  </header>

  <div id="dynamic-content"></div>

  <footer>
    © 2025 Vital Link Healthcare — Empowering Doctors with Data
  </footer>
</section>

<script>
  const doctorData={
    name:"Dr. Aisha Kapoor",
    dashboard:{totalPatients:248,appointmentsToday:18,icuPatients:4,pendingReports:6,messages:12,surgeriesScheduled:2},
    appointments:[{patient:"Jawahar Singh",time:"10:00 AM",type:"Consultation"},{patient:"Sita Polisetty",time:"11:30 AM",type:"Follow-up"}],
    icu:[{patient:"Asma Khan",condition:"Critical"},{patient:"Sita Pollisetty",condition:"Stable"}],
    patients:[{name:"Jawahar Singh",age:45,condition:"Flu"},{name:"Dhruv Chandra",age:30,condition:"Check-up"},{name:"Ramaswamy Iyengar",age:60,condition:"Heart Surgery"},{name:"Sita Pollisetty",age:30,condition:"Tonsilitis"}],
    prescriptions:[{patient:"Jawahar Singh",medication:"Medicine A",dosage:"2x/day"},{patient:"Supreet Chetty",medication:"Medicine B",dosage:"1x/day"}],
    settings:{theme:"Light",notifications:true}
  };

  // store sent messages (in-memory)
  const messagesLog = [];

  const words=["Compassion","Precision","Care","Health","Wellness"];
  let i=0;
  const animatedText=document.querySelector(".animated-text");
  setInterval(()=>{animatedText.textContent=words[i];i=(i+1)%words.length;},2000);

  const contentDiv=document.getElementById('dynamic-content');
  document.getElementById('doctor-name').textContent=doctorData.name;

  function revealCards(){ScrollReveal().reveal('.card',{delay:200,distance:'40px',origin:'bottom',duration:1000,easing:'ease-in-out',interval:150});}

  function loadPage(page){
    contentDiv.innerHTML="";
  document.querySelectorAll('.sidebar ul li').forEach(li=>li.classList.remove('active'));
  document.querySelector(`.sidebar ul li[data-page="${page}"]`).classList.add('active');

    if(page==='dashboard'){
      const d=doctorData.dashboard;
      contentDiv.innerHTML=`
        <div class="dashboard-cards">
          <div class="card"><h3>Total Patients</h3><h1>${d.totalPatients}</h1><p>Patients under your supervision</p></div>
          <div class="card"><h3>Appointments Today</h3><h1>${d.appointmentsToday}</h1><p>Scheduled consultations</p></div>
          <div class="card"><h3>ICU Patients</h3><h1>${d.icuPatients}</h1><p>Currently critical</p></div>
          <div class="card"><h3>Pending Reports</h3><h1>${d.pendingReports}</h1><p>Lab or diagnostic updates</p></div>
          <div class="card"><h3>Messages</h3><h1>${d.messages}</h1><p>Unread communications</p></div>
          <div class="card"><h3>Surgeries Scheduled</h3><h1>${d.surgeriesScheduled}</h1><p>Upcoming operations</p></div>
        </div>
      `;
      revealCards();
    }
    else{
      // Special rendering for patients: include a message box next to each patient
      if(page === 'patients'){
        const items = doctorData.patients || [];
        let html = `<h2>All Patients</h2><table><tr><th>Name</th><th>Age</th><th>Condition</th><th>Message</th></tr>`;
        items.forEach((p, idx) => {
          html += `<tr>
            <td>${p.name}</td>
            <td>${p.age ?? ''}</td>
            <td>${p.condition ?? ''}</td>
            <td>
              <div class="msg-box" data-index="${idx}">
                <button class="msg-toggle">Message</button>
                <div class="msg-ui" style="display:none;">
                  <input type="text" class="msg-input" placeholder="Type a message to ${p.name}">
                  <button class="msg-send">Send</button>
                  <span class="msg-small"></span>
                </div>
              </div>
            </td>
          </tr>`;
        });
        html += `</table>`;
        contentDiv.innerHTML = html;

        // Attach interactions for message UI
        contentDiv.querySelectorAll('.msg-toggle').forEach(btn=>{
          btn.addEventListener('click', ()=> {
            const ui = btn.parentElement.querySelector('.msg-ui');
            ui.style.display = ui.style.display === 'none' ? 'flex' : 'none';
            const input = ui.querySelector('.msg-input');
            if(ui.style.display === 'flex') input.focus();
          });
        });

        contentDiv.querySelectorAll('.msg-send').forEach(btn=>{
          btn.addEventListener('click', ()=> {
            const box = btn.closest('.msg-box');
            const idx = box.dataset.index;
            const input = box.querySelector('.msg-input');
            const text = (input.value || '').trim();
            const feedback = box.querySelector('.msg-small');
            if(!text) { feedback.textContent = 'Enter a message'; setTimeout(()=>feedback.textContent='',1500); return; }
            messagesLog.push({to: doctorData.patients[idx].name, message: text, time: new Date().toISOString()});
            feedback.textContent = 'Sent';
            input.value = '';
            setTimeout(()=>feedback.textContent = '', 2000);
            // Optional: you can console.log or send to server here
            console.log('Message sent ->', messagesLog[messagesLog.length-1]);
          });
        });
      } else {
        let items=doctorData[page]||[];
        if(items.length>0){
          let headers=Object.keys(items[0]);
          let html = `<h2>${page.charAt(0).toUpperCase()+page.slice(1)}</h2><table><tr>`;
          headers.forEach(h => html += `<th>${h.charAt(0).toUpperCase()+h.slice(1)}</th>`);
          html += "</tr>";
          items.forEach(obj => { html += "<tr>"; headers.forEach(h => html += `<td>${obj[h]}</td>`); html += "</tr>"; });
          html += "</table>"; contentDiv.innerHTML = html;
        } else {
          contentDiv.innerHTML = `<h2>${page.charAt(0).toUpperCase()+page.slice(1)}</h2><p>No data available</p>`;
        }
      }
    }
  }

  loadPage('dashboard');
  document.querySelectorAll('.sidebar ul li').forEach(li=>li.addEventListener('click',()=>loadPage(li.dataset.page)));
</script>

</body>
</html>